<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Manager – A Master’s Cleaning</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  padding: 20px;
}
h1 {
  text-align: center;
}
table {
  width: 100%;
  border-collapse: collapse;
  background: white;
  margin-top: 20px;
}
th, td {
  border: 1px solid #ccc;
  padding: 8px;
  text-align: left;
}
th {
  background: #2c7be5;
  color: white;
}
tr:nth-child(even) {
  background: #f2f2f2;
}
.status {
  text-align: center;
  margin-top: 10px;
  font-weight: bold;
}
</style>
</head>

<body>

<h1>Encodages des travailleurs</h1>

<div class="status" id="status">Chargement…</div>

<table>
  <thead>
    <tr>
      <th>Date & heure</th>
      <th>Travailleur</th>
      <th>Jour</th>
      <th>Client</th>
      <th>Heures</th>
      <th>Type</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody id="tableBody"></tbody>
</table>

<script>
// ⚠️ REMPLACE CETTE URL PAR TA DERNIÈRE URL /exec
const API_URL = "https://script.google.com/macros/s/AKfycbzXEeV5T-JZAyickzCulHgA-AsLIhbjDHwS_NvfRzcEy2PsDwshWd92KWUPSkYjGU0veQ/exec";

fetch(API_URL)
  .then(res => res.json())
  .then(data => {
    const tbody = document.getElementById("tableBody");
    const status = document.getElementById("status");

    if (!data || data.length === 0) {
      status.innerText = "Aucun encodage trouvé";
      return;
    }

    status.innerText = data.length + " encodage(s) trouvé(s)";

    data.forEach(row => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${row.Timestamp || ""}</td>
        <td>${row.Name || ""}</td>
        <td>${row.Day || ""}</td>
        <td>${row.Client || ""}</td>
        <td>${row.Hours || ""}</td>
        <td>${row.Type || ""}</td>
        <td>${row.Notes || ""}</td>
      `;
      tbody.appendChild(tr);
    });
  })
  .catch(() => {
    document.getElementById("status").innerText = "Erreur de chargement ❌";
  });
</script>

</body>
</html>



