
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Espace Manager ‚Äì A Master‚Äôs Cleaning</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f4f4;
  padding: 30px;
}

.card {
  background: white;
  max-width: 900px;
  margin: auto;
  padding: 25px;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

h1 {
  text-align: center;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}

th, td {
  border: 1px solid #ccc;
  padding: 10px;
  text-align: center;
}

th {
  background: #eee;
}

.total {
  font-weight: bold;
  background: #f9f9f9;
}
</style>
</head>

<body>

<div class="card">
  <h1>üë©‚Äçüíº Espace Manager</h1>
  <p style="text-align:center;">Vue globale des heures mensuelles</p>

  <table>
    <thead>
      <tr>
        <th>Travailleur</th>
        <th>Heures prest√©es</th>
        <th>Vacances</th>
        <th>Jours f√©ri√©s</th>
        <th>Total mensuel</th>
      </tr>
    </thead>
    <tbody id="managerTable"></tbody>
  </table>
</div>

<script>
// üîê Mot de passe manager
const PASSWORD = "Kes131577@284666577";
const input = prompt("üîê Acc√®s manager ‚Äì Entrez le mot de passe");

if (input !== PASSWORD) {
  alert("‚ùå Mot de passe incorrect");
  window.location.href = "index.html";
}

// üì¶ R√©cup√©ration des donn√©es sauvegard√©es
const data = JSON.parse(localStorage.getItem("workHoursData")) || [];
const table = document.getElementById("managerTable");

let totalWork = 0;
let totalVacation = 0;
let totalHoliday = 0;

data.forEach(worker => {
  const row = document.createElement("tr");

  row.innerHTML = `
    <td>${worker.name}</td>
    <td>${worker.workHours}</td>
    <td>${worker.vacationHours}</td>
    <td>${worker.holidayHours}</td>
    <td class="total">${worker.workHours + worker.vacationHours + worker.holidayHours}</td>
  `;

  totalWork += worker.workHours;
  totalVacation += worker.vacationHours;
  totalHoliday += worker.holidayHours;

  table.appendChild(row);
});

// Ligne TOTAL GLOBAL
const totalRow = document.createElement("tr");
totalRow.className = "total";

totalRow.innerHTML = `
  <td>TOTAL</td>
  <td>${totalWork}</td>
  <td>${totalVacation}</td>
  <td>${totalHoliday}</td>
  <td>${totalWork + totalVacation + totalHoliday}</td>
`;

table.appendChild(totalRow);
</script>

</body>
</html>
