<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>A Masterâ€™s Cleaning â€“ Encodage des heures</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f7f7f7;
  padding: 20px;
}

.container {
  max-width: 900px;
  margin: auto;
  background: white;
  padding: 20px;
  border-radius: 10px;
}

input {
  width: 100%;
  padding: 6px;
  margin-bottom: 10px;
}

button {
  padding: 10px 15px;
  cursor: pointer;
  margin-top: 10px;
}

.totals {
  margin-top: 20px;
  padding: 15px;
  background: #f0f0f0;
  border-radius: 8px;
}
</style>
</head>

<body>

<div class="container">
  <h1>ğŸ§¹ A Masterâ€™s Cleaning</h1>
  <p>Encodage mensuel des heures</p>

  <input id="name" placeholder="Nom et prÃ©nom (obligatoire)">

  <label>Heures prestÃ©es</label>
  <input type="number" id="work" value="0">

  <label>Vacances</label>
  <input type="number" id="vacation" value="0">

  <label>Jours fÃ©riÃ©s</label>
  <input type="number" id="holiday" value="0">

  <button onclick="saveData()">ğŸ’¾ Enregistrer</button>

  <p id="msg"></p>

  <div class="totals">
    <p>ğŸ§‘â€ğŸ”§ Heures prestÃ©es : <strong id="totalWork">0</strong> h</p>
    <p>ğŸ–ï¸ Vacances : <strong id="totalVacation">0</strong> h</p>
    <p>ğŸ‰ Jours fÃ©riÃ©s : <strong id="totalHoliday">0</strong> h</p>
  </div>
</div>

<script>
function saveData() {
  const name = document.getElementById("name").value.trim();
  const work = Number(document.getElementById("work").value);
  const vacation = Number(document.getElementById("vacation").value);
  const holiday = Number(document.getElementById("holiday").value);

  if (!name) {
    alert("Le nom est obligatoire");
    return;
  }

  let data = JSON.parse(localStorage.getItem("workHoursData")) || [];

  // Supprimer ancien encodage du mÃªme travailleur
  data = data.filter(d => d.name !== name);

  data.push({ name, work, vacation, holiday });

  localStorage.setItem("workHoursData", JSON.stringify(data));

  updateTotals();

  document.getElementById("msg").innerText =
    "âœ… DonnÃ©es enregistrÃ©es avec succÃ¨s";
}

function updateTotals() {
  let data = JSON.parse(localStorage.getItem("workHoursData")) || [];

  let totalWork = 0;
  let totalVacation = 0;
  let totalHoliday = 0;

  data.forEach(d => {
    totalWork += d.work;
    totalVacation += d.vacation;
    totalHoliday += d.holiday;
  });

  document.getElementById("totalWork").innerText = totalWork;
  document.getElementById("totalVacation").innerText = totalVacation;
  document.getElementById("totalHoliday").innerText = totalHoliday;
}

// Charger les totaux au dÃ©marrage
updateTotals();
</script>

</body>
</html>




























